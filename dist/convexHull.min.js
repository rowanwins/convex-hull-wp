!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).convexHull=t()}(this,function(){"use strict";return function(e){const t=e.length;let n=[1/0,1/0],f=[-1/0,-1/0],o=[-1/0,-1/0],i=[1/0,1/0];for(let l=0;l<t;l++)e[l][0]<n[0]&&(n=e[l]),e[l][0]>f[0]&&(f=e[l]),e[l][1]<i[1]&&(i=e[l]),e[l][1]>o[1]&&(o=e[l]);const l=[],s=[],u=[],h=[];for(let c=0;c<t;c++)e[c][0]<=o[0]&&e[c][1]>=n[1]&&l.push(e[c]),e[c][0]>=o[0]&&e[c][1]>=f[1]&&s.push(e[c]),e[c][0]>=i[0]&&e[c][1]<=f[1]&&u.push(e[c]),e[c][0]<=i[0]&&e[c][1]<=n[1]&&h.push(e[c]);const c=[];return function(e,t,n,f,o){let i,l,s,u,h,c,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,h=t[1]-e[1],p=t[0]-e[0],r=!1;for(let e=0;e<n;e++)if(f[e][1]>=l&&f[e][0]>=i)if(f[e][0]===i)f[e][1]!==l&&(u=f[e][1]-l,h>=u&&(h=u,d=e,r=!0));else if(!r){const t=(f[e][1]-l)/(f[e][0]-i);s<t?(p=f[e][0]-i,s=t,d=e):s===t&&(c=f[e][0]-i,p>=c&&(p=c,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(n,o,l.length,l,c),function(e,t,n,f,o){let i,l,s,u,h,c,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,h=e[1]-t[1],p=t[0]-e[0],r=!1;for(let e=0;e<n;e++)if(f[e][0]>=i&&f[e][1]<=l)if(f[e][1]===l)f[e][0]!==i&&(c=f[e][0]-i,p>=c&&(p=c,d=e,r=!0));else if(!r){const t=(f[e][0]-i)/(l-f[e][1]);s<t?(h=l-f[e][1],s=t,d=e):s===t&&(u=l-f[e][1],h>=u&&(h=u,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(o,f,s.length,s,c),function(e,t,n,f,o){let i,l,s,u,h,c,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,h=e[1]-t[1],p=e[0]-t[0],r=!1;for(let e=0;e<n;e++)if(f[e][1]<=l&&f[e][0]<=i)if(f[e][0]===i)f[e][1]!==l&&(u=l-f[e][1],h>=u&&(h=u,d=e,r=!0));else if(!r){const t=(l-f[e][1])/(i-f[e][0]);s<t?(p=i-f[e][0],s=t,d=e):s===t&&(c=i-f[e][0],p>=c&&(p=c,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(f,i,u.length,u,c),function(e,t,n,f,o){let i,l,s,u,h,c,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,h=t[1]-e[1],p=e[0]-t[0],r=!1;for(let e=0;e<n;e++)if(f[e][0]<=i&&f[e][1]>=l)if(f[e][1]===l)f[e][0]!==i&&(c=i-f[e][0],p>=c&&(p=c,d=e,r=!0));else if(!r){const t=(i-f[e][0])/(f[e][1]-l);s<t?(h=f[e][1]-l,s=t,d=e):s===t&&(u=f[e][1]-l,h>=u&&(h=u,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(i,n,h.length,h,c),c.push(c[0]),c}});
