!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).convexHull=t()}(this,function(){"use strict";return function(e){const t=e.length;let n=[1/0,1/0],f=[-1/0,-1/0],o=[-1/0,-1/0],i=[1/0,1/0];for(let l=0;l<t;l++)e[l][0]<n[0]&&(n=e[l]),e[l][0]>f[0]&&(f=e[l]),e[l][1]<i[1]&&(i=e[l]),e[l][1]>o[1]&&(o=e[l]);const l=[],s=[],u=[],c=[];for(let h=0;h<t;h++)e[h][0]<=o[0]&&e[h][1]>=n[1]&&l.push(e[h]),e[h][0]>=o[0]&&e[h][1]>=f[1]&&s.push(e[h]),e[h][0]>=i[0]&&e[h][1]<=f[1]&&u.push(e[h]),e[h][0]<=i[0]&&e[h][1]<=n[1]&&c.push(e[h]);const h=[];return function(e,t,n,f,o){let i,l,s,u,c,h,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,c=t[1]-e[1],p=t[0]-e[0],r=!1;for(let e=0;e<n;e++)if(f[e][1]>=l&&f[e][0]>=i)if(f[e][0]===i)f[e][1]!==l&&(u=f[e][1]-l,c>=u&&(c=u,d=e,r=!0));else if(!r){const t=(f[e][1]-l)/(f[e][0]-i);s<t?(p=f[e][0]-i,s=t,d=e):s===t&&(h=f[e][0]-i,p>=h&&(p=h,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(n,o,l.length,l,h),function(e,t,n,f,o){let i,l,s,u,c,h,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,c=e[1]-t[1],p=t[0]-e[0],r=!1;for(let e=0;e<n;e++)if(f[e][0]>=i&&f[e][1]<=l)if(f[e][1]===l)f[e][0]!==i&&(h=f[e][0]-i,p>=h&&(p=h,d=e,r=!0));else if(!r){const t=(f[e][0]-i)/(l-f[e][1]);s<t?(c=l-f[e][1],s=t,d=e):s===t&&(u=l-f[e][1],c>=u&&(c=u,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(o,f,s.length,s,h),function(e,t,n,f,o){let i,l,s,u,c,h,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,c=e[1]-t[1],p=e[0]-t[0],r=!1;for(let e=0;e<n;e++)if(f[e][1]<=l&&f[e][0]<=i)if(f[e][0]===i)f[e][1]!==l&&(u=l-f[e][1],c>=u&&(c=u,d=e,r=!0));else if(!r){const t=(l-f[e][1])/(i-f[e][0]);s<t?(p=i-f[e][0],s=t,d=e):s===t&&(h=i-f[e][0],p>=h&&(p=h,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(f,i,u.length,u,h),function(e,t,n,f,o){let i,l,s,u,c,h,p,r,d=0;i=e[0],l=e[1];do{o.push([i,l]),s=0,c=t[1]-e[1],p=e[0]-t[0],r=!1;for(let e=0;e<n;e++)if(f[e][0]<=i&&f[e][1]>=l)if(f[e][1]===l)f[e][0]!==i&&(h=i-f[e][0],p>=h&&(p=h,d=e,r=!0));else if(!r){const t=(i-f[e][0])/(f[e][1]-l);s<t?(c=f[e][1]-l,s=t,d=e):s===t&&(u=f[e][1]-l,c>=u&&(c=u,d=e))}i=f[d][0],l=f[d][1]}while(i!==t[0]||l!==t[1])}(i,n,c.length,c,h),h}});
